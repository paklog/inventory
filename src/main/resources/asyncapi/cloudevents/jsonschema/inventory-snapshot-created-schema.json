{
  "$id": "https://paklog.com/schemas/inventory/v1/inventory-snapshot-created.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Inventory Snapshot Created Event",
  "description": "Published when a point-in-time inventory snapshot is created for reporting or auditing",
  "type": "object",
  "required": ["snapshot_id", "sku", "snapshot_type", "snapshot_reason", "quantity_on_hand", "quantity_allocated", "created_by"],
  "properties": {
    "snapshot_id": {
      "type": "string",
      "description": "Unique identifier for the snapshot",
      "example": "SNAP-2024-Q1-001"
    },
    "sku": {
      "type": "string",
      "description": "Stock Keeping Unit identifier",
      "example": "SKU-12345"
    },
    "snapshot_type": {
      "type": "string",
      "description": "Type of snapshot",
      "enum": ["DAILY", "WEEKLY", "MONTHLY", "ANNUAL", "AD_HOC"],
      "example": "DAILY"
    },
    "snapshot_reason": {
      "type": "string",
      "description": "Reason for creating snapshot",
      "enum": ["SCHEDULED", "CYCLE_COUNT", "AUDIT", "MONTH_END", "YEAR_END", "MANUAL"],
      "example": "SCHEDULED"
    },
    "quantity_on_hand": {
      "type": "integer",
      "description": "Quantity on hand at snapshot time",
      "minimum": 0,
      "example": 150
    },
    "quantity_allocated": {
      "type": "integer",
      "description": "Allocated quantity at snapshot time",
      "minimum": 0,
      "example": 30
    },
    "quantity_available": {
      "type": "integer",
      "description": "Available to promise at snapshot time",
      "minimum": 0,
      "example": 120
    },
    "created_by": {
      "type": "string",
      "description": "User or system that created the snapshot",
      "example": "inventory.system"
    }
  }
}
